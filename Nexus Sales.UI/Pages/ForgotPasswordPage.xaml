<Page x:Class="NexusSales.UI.Pages.ForgotPasswordPage"
      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
      xmlns:uc="clr-namespace:NexusSales.UI.UserControls"
      Background="Transparent">
    <Page.Resources>
        <!-- No blue border for TextBox -->
        <Style TargetType="TextBox" x:Key="NoFocusBorderTextBox">
            <Setter Property="FocusVisualStyle" Value="{x:Null}" />
            <Setter Property="BorderBrush" Value="{StaticResource FontNormalBrush}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Background" Value="{StaticResource BackgroundBrush}" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="20">
                            <ScrollViewer x:Name="PART_ContentHost"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <!-- No blue border for PasswordBox -->
        <Style TargetType="PasswordBox" x:Key="NoFocusBorderPasswordBox">
            <Setter Property="FocusVisualStyle" Value="{x:Null}" />
            <Setter Property="BorderBrush" Value="{StaticResource FontNormalBrush}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="Background" Value="{StaticResource BackgroundBrush}" />
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="PasswordBox">
                        <Border Background="{TemplateBinding Background}"
                            BorderBrush="{TemplateBinding BorderBrush}"
                            BorderThickness="{TemplateBinding BorderThickness}"
                            CornerRadius="20">
                            <ScrollViewer x:Name="PART_ContentHost"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Page.Resources>
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Title -->
        <TextBlock Grid.Row="0" Text="Forgot Password" 
                   FontSize="32" FontWeight="Bold" 
                   FontFamily="Consolas" 
                   Foreground="{StaticResource FontNormalBrush}" 
                   HorizontalAlignment="Center" Margin="32,24,32,24"/>

        <TextBlock x:Name="StatusText" Grid.Row="0" HorizontalAlignment="Center" Foreground="LightBlue" FontWeight="Bold" Visibility="Collapsed"/>

        <!-- Email Input Styled -->
        <Border Grid.Row="1" CornerRadius="20" 
                Background="{StaticResource BackgroundBrush}" 
                BorderBrush="{StaticResource FontNormalBrush}" 
                BorderThickness="1" 
                Width="300" Height="43" 
                HorizontalAlignment="Center" Margin="32,0,32,12">
            <Grid>
                <TextBox x:Name="EmailTextBox"
                         Background="Transparent"
                         BorderThickness="0"
                         Foreground="{StaticResource FontDarkBrush}"
                         Style="{StaticResource LoginTextBoxStyle}"
                         
                         VerticalContentAlignment="Center"
                         HorizontalContentAlignment="Center"
                         TextAlignment="Left"
                         Padding="14,0,0,0"
                         
                         TextChanged="EmailTextBox_TextChanged"/>
                <TextBlock x:Name="EmailPlaceholder"
                           Text="Email"
                           Foreground="{StaticResource FontDarkBrush}"
                           Margin="14,0,0,0"
                           VerticalAlignment="Center"
                           HorizontalAlignment="Left"
                           IsHitTestVisible="False"
                           Visibility="Visible"/>
            </Grid>
        </Border>

        <!-- Code Input Styled -->
        <Border Grid.Row="2" CornerRadius="20" 
                Background="{StaticResource BackgroundBrush}" 
                BorderBrush="{StaticResource FontNormalBrush}" 
                BorderThickness="1" 
                Width="300" Height="43" 
                HorizontalAlignment="Center" Margin="32,0,32,8">
            <Grid>
                <TextBox x:Name="CodeTextBox"
                         Background="Transparent"
                         BorderThickness="0"
                         Foreground="{StaticResource FontDarkBrush}"
                         Style="{StaticResource LoginTextBoxStyle}"
                         Padding="14,0,0,0"
                         
                         VerticalContentAlignment="Center"
                         TextAlignment="Left"
                         
                         TextChanged="CodeTextBox_TextChanged"/>
                <TextBlock x:Name="CodePlaceholder"
                           Text="Code"
                           Foreground="{StaticResource FontDarkBrush}"
                           Margin="14,0,0,0"
                           VerticalAlignment="Center"
                           HorizontalAlignment="Left"
                           IsHitTestVisible="False"
                           Visibility="Visible"/>
            </Grid>
        </Border>

        <TextBlock x:Name="ReceiveCodeCountdown"
                   Text=""
                   Foreground="{StaticResource FontNormalBrush}"
                   FontSize="12"
                   Grid.Row="6"
                   HorizontalAlignment="Center"
                   Margin="0,10,0,0"
                   Visibility="Collapsed"/>

        <!-- Receive Code Button -->
        <uc:FirstButton x:Name="ReceiveCodeButton" Grid.Row="5" Text="Receive Code" Height="48" Width="220" Margin="32,16,32,0"
                        GlowEffect="True" GlowColor="AliceBlue" ZoomEffect="True" ButtonColor="White"
                        Radius="20" BorderBrush="Transparent" BorderThickness="0.2"
                        Click="ReceiveCodeButton_Click" HorizontalAlignment="Center"/>

        <!-- Submit Button -->
        <uc:FirstButton x:Name="SubmitButton"
                        Grid.Row="6"
                        Text="Submit"
                        Height="48"
                        Width="220"
                        Margin="0,36,0,0"
                        GlowEffect="True"
                        GlowColor="AliceBlue"
                        ZoomEffect="True"
                        ButtonColor="White"
                        Radius="20"
                        BorderBrush="Transparent"
                        BorderThickness="0.2"
                        Click="SubmitButton_Click"
                        HorizontalAlignment="Center"/>
        
        <!-- Back Button in bottom left corner -->
        <Button Style="{StaticResource BackButtonStyle}"
                Content="&lt; Back"
                Click="BackButton_Click"
                Grid.Row="7"
                HorizontalAlignment="Left"
                VerticalAlignment="Bottom"
                Margin="24,0,0,24"
                Panel.ZIndex="100"/>
        
        <!-- Forward Button in bottom right corner -->
        <Button x:Name="ForwardButton"
                Style="{StaticResource BackButtonStyle}"
                Content="Forward &gt;"
                Click="ForwardButton_Click"
                Grid.Row="7"
                HorizontalAlignment="Right"
                VerticalAlignment="Bottom"
                Margin="0,0,24,24"
                Visibility="Collapsed"/>
        
    </Grid>
</Page>